<div class="video-player">
  <video
    #videoPlayerRef
    controls
    (timeupdate)="updateProgress()"
    [currentTime]="isTrimming ? trimStart : null"
  >
    <source src="https://media.vimejs.com/720p.mp4" type="video/mp4" />
  </video>
  <div class="controls">
    <button (click)="togglePlayPause()" class="play-pause">
      {{ isPlaying ? "Pause" : "Play" }}
    </button>
    <div class="progress" (click)="seekTo($event)">
      <div class="progress-bar"></div>
      <div
        *ngFor="let trim of trims"
        class="trimmed-progress"
        [style.left.%]="(trim.start / duration) * 100"
        [style.width.%]="((trim.end - trim.start) / duration) * 100"
      ></div>
      <div
        *ngIf="isTrimming"
        class="trim-mark"
        [style.left.%]="(trimStart / duration) * 100"
      ></div>
    </div>
    <button (click)="setTrim()" class="trim-button">
      {{ isTrimming ? "End Trim" : "Start Trim" }}
    </button>
  </div>
</div>
